{"version":3,"sources":["node_modules/browser-pack/_prelude.js","source/Contributor.ts","source/ContributorWidget.ts","source/ContributorWidgetRenderer.ts","source/HtmlService.ts","source/Json.ts","source/Main.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import { ContributorJson } from \"./ContributorJson\";\n\nexport class Contributor {\n    contributions:number;\n    profileUrl: string;\n    name: string;\n\n    constructor(contributorJson: ContributorJson) {\n        this.name = contributorJson.login;\n        this.profileUrl = contributorJson.html_url;\n        this.contributions = contributorJson.contributions;\n    }\n\n    isOnList(userList: string[]): boolean {\n        if (userList.indexOf(this.name) == -1) {\n            return false;\n        }\n\n        return true;\n    }\n\n    getName(): string{\n        return this.name;\n    }\n\n    getProfileUrl(): string{\n        return this.profileUrl;\n    }\n\n    getContributions(): number{\n        return this.contributions;\n    }\n}\n","import { getJsonFromUrl } from \"./Json\";\nimport { getJsonCallback } from \"./Json\";\nimport { Contributor } from \"./Contributor\";\nimport { ContributorJson } from \"./ContributorJson\";\nimport { ContributorWidgetRenderer } from \"./ContributorWidgetRenderer\";\n\nexport class ContributorWidget {\n    configJson: any;\n    contributorsJson: Contributor[];\n    renderer: ContributorWidgetRenderer;\n\n    constructor() {\n        this.renderer = new ContributorWidgetRenderer(); \n        var widgetDivs = document.getElementsByClassName(\"gh-contrib-widget\");\n        for(var i = 0; i < widgetDivs.length; i++) {\n            var targetDiv = widgetDivs.item(i);\n            this.loadData(targetDiv);\n        }\n    }\n\n    loadData(targetDiv: any): void {\n        var jsonUrl: string =\n            'https://api.github.com/repos/' + targetDiv.dataset.repository + '/contributors';\n        var dataHandler = function(renderer: ContributorWidgetRenderer, error: string, data: ContributorJson[]){\n            if (error !== null) {\n                console.log('Could not load data: ' + error);\n            } else {\n                renderer.render(targetDiv, data);\n            }\n        }\n        getJsonCallback(this.renderer, jsonUrl, dataHandler);\n    }\n}\n","import { getJsonFromUrl } from \"./Json\";\nimport { getJsonCallback } from \"./Json\";\nimport { ContributorJson } from \"./ContributorJson\";\nimport { Contributor } from \"./Contributor\";\nimport { HtmlService } from \"./HtmlService\";\n\nfunction sortByContributions(x: ContributorJson, y: ContributorJson) {\n  return  y.contributions - x.contributions;\n}\n\nexport class ContributorWidgetRenderer {\n    contributorsJson: ContributorJson[];\n\n    render(targetDiv: any, contributors: ContributorJson[]): void {\n        var htmlService: HtmlService;\n        var blockedUsers = new Array(\"gitter-badger\");\n        htmlService = new HtmlService();\n        if (targetDiv != null) {\n            contributors.sort(sortByContributions);\n            for(var n=0;n<contributors.length;n++){\n                var contributor: Contributor = new Contributor(contributors[n])\n                if(!contributor.isOnList(blockedUsers)) {\n                    var contributorDiv = document.createElement('div');\n                    var contributorHtml =\n                        htmlService.getAnchorHtml(contributor.getProfileUrl(), contributor.getName());\n                    contributorHtml += '</br>';\n                    contributorDiv.innerHTML = contributorHtml;\n                    targetDiv.appendChild(contributorDiv);\n                }\n            }\n        } else {\n            console.log('Target div not found.');\n        }\n    }\n}\n","export class HtmlService {\n    getAnchorHtml(url: string, content: string): string {\n        var html = '<a href=\\\"' + url + '\\\" target=\\\"_blank\\\">';\n        html += content;\n        html += '</a>';\n\n        return html;\n    }\n}\n","export function getJsonCallback(widget: any, url: any, callback: any) {\n  var xhr = new XMLHttpRequest();\n  xhr.open('GET', url, true);\n  xhr.responseType = 'json';\n  xhr.onload = function() {\n    var status = xhr.status;\n    if (status === 200) {\n        callback(widget, null, xhr.response);\n    } else {\n        callback(widget, status, xhr.response);\n    }\n  };\n  xhr.send();\n};\n\nexport function getJsonFromUrl(url: string): any {\n    var xhr = new XMLHttpRequest();\n\n    xhr.open('GET', url, true);\n    xhr.responseType = 'json';\n    xhr.onload = function() {\n        var status = xhr.status;\n        if (status !== 200) {\n            throw new Error('Got error ' + status + ' for URL ' + url);\n        }\n    };\n    xhr.send();\n};\n","import { getJsonFromUrl } from \"./Json\";\nimport { ContributorWidget } from \"./ContributorWidget\";\n\nfunction installGithubContributorWidget(): void {\n    try {\n        var widget: ContributorWidget = new ContributorWidget();\n    } catch (e) {\n        console.log(e.name + ': ' + e.message);\n    }\n}\n\n(<any>window).installGithubContributorWidget = installGithubContributorWidget;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzb3VyY2UvQ29udHJpYnV0b3IudHMiLCJzb3VyY2UvQ29udHJpYnV0b3JXaWRnZXQudHMiLCJzb3VyY2UvQ29udHJpYnV0b3JXaWRnZXRSZW5kZXJlci50cyIsInNvdXJjZS9IdG1sU2VydmljZS50cyIsInNvdXJjZS9Kc29uLnRzIiwic291cmNlL01haW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7c0RDRUE7OztBQUtJLHlCQUFZLEFBQWdDOzs7QUFDeEMsQUFBSSxhQUFDLEFBQUksT0FBRyxBQUFlLGdCQUFDLEFBQUssQUFBQztBQUNsQyxBQUFJLGFBQUMsQUFBVSxhQUFHLEFBQWUsZ0JBQUMsQUFBUSxBQUFDO0FBQzNDLEFBQUksYUFBQyxBQUFhLGdCQUFHLEFBQWUsZ0JBQUMsQUFBYSxBQUFDLEFBQ3ZEO0FBQUMsQUFFRCxBQUFROzs7O2lDQUFDLEFBQWtCO0FBQ3ZCLEFBQUUsQUFBQyxnQkFBQyxBQUFRLFNBQUMsQUFBTyxRQUFDLEFBQUksS0FBQyxBQUFJLEFBQUMsU0FBSSxDQUFDLEFBQUMsQUFBQyxHQUFDLEFBQUM7QUFDcEMsQUFBTSx1QkFBQyxBQUFLLEFBQUMsQUFDakI7QUFBQztBQUVELEFBQU0sbUJBQUMsQUFBSSxBQUFDLEFBQ2hCO0FBQUMsQUFFRCxBQUFPOzs7O0FBQ0gsQUFBTSxtQkFBQyxBQUFJLEtBQUMsQUFBSSxBQUFDLEFBQ3JCO0FBQUMsQUFFRCxBQUFhOzs7O0FBQ1QsQUFBTSxtQkFBQyxBQUFJLEtBQUMsQUFBVSxBQUFDLEFBQzNCO0FBQUMsQUFFRCxBQUFnQjs7OztBQUNaLEFBQU0sbUJBQUMsQUFBSSxLQUFDLEFBQWEsQUFBQyxBQUM5QjtBQUFDLEFBQ0o7Ozs7OztBQTlCRCxzQkE4QkM7Ozs7Ozs7Ozs7QUMvQkQscUJBQXlDO0FBR3pDLDBDQUF3RSxBQUV4RTs7O0FBS0k7OztBQUNJLEFBQUksYUFBQyxBQUFRLFdBQUcs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WUFBSSxBQUFNLFNBQUcsQUFBRyxJQUFDLEFBQU0sQUFBQztBQUN4QixBQUFFLEFBQUMsWUFBQyxBQUFNLFdBQUssQUFBRyxBQUFDLEtBQUMsQUFBQztBQUNqQixrQkFBTSxJQUFJLEFBQUssTUFBQyxBQUFZLGVBQUcsQUFBTSxTQUFHLEFBQVcsY0FBRyxBQUFHLEFBQUMsQUFBQyxBQUMvRDtBQUFDLEFBQ0w7QUFBQyxBQUFDO0FBQ0YsQUFBRyxRQUFDLEFBQUksQUFBRSxBQUFDLEFBQ2Y7QUFBQztBQVpELHlCQVlDO0FBQUEsQUFBQzs7Ozs7O0FDMUJGLGtDQUF3RDtBQUV4RDtBQUNJLFFBQUksQUFBQztBQUNELFlBQUksQUFBTSxTQUFzQixJQUFJLG9CQUFpQixBQUFFLEFBQUMsQUFDNUQ7QUFBQyxNQUFDLEFBQUssQUFBQyxPQUFDLEFBQUMsQUFBQyxHQUFDLEFBQUM7QUFDVCxBQUFPLGdCQUFDLEFBQUcsSUFBQyxBQUFDLEVBQUMsQUFBSSxPQUFHLEFBQUksT0FBRyxBQUFDLEVBQUMsQUFBTyxBQUFDLEFBQUMsQUFDM0M7QUFBQyxBQUNMO0FBQUM7QUFFSyxBQUFPLE9BQUMsQUFBOEIsaUNBQUcsQUFBOEIsQUFBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgeyBDb250cmlidXRvckpzb24gfSBmcm9tIFwiLi9Db250cmlidXRvckpzb25cIjtcblxuZXhwb3J0IGNsYXNzIENvbnRyaWJ1dG9yIHtcbiAgICBjb250cmlidXRpb25zOm51bWJlcjtcbiAgICBwcm9maWxlVXJsOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoY29udHJpYnV0b3JKc29uOiBDb250cmlidXRvckpzb24pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gY29udHJpYnV0b3JKc29uLmxvZ2luO1xuICAgICAgICB0aGlzLnByb2ZpbGVVcmwgPSBjb250cmlidXRvckpzb24uaHRtbF91cmw7XG4gICAgICAgIHRoaXMuY29udHJpYnV0aW9ucyA9IGNvbnRyaWJ1dG9ySnNvbi5jb250cmlidXRpb25zO1xuICAgIH1cblxuICAgIGlzT25MaXN0KHVzZXJMaXN0OiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodXNlckxpc3QuaW5kZXhPZih0aGlzLm5hbWUpID09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXROYW1lKCk6IHN0cmluZ3tcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG5cbiAgICBnZXRQcm9maWxlVXJsKCk6IHN0cmluZ3tcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvZmlsZVVybDtcbiAgICB9XG5cbiAgICBnZXRDb250cmlidXRpb25zKCk6IG51bWJlcntcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJpYnV0aW9ucztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnZXRKc29uRnJvbVVybCB9IGZyb20gXCIuL0pzb25cIjtcbmltcG9ydCB7IGdldEpzb25DYWxsYmFjayB9IGZyb20gXCIuL0pzb25cIjtcbmltcG9ydCB7IENvbnRyaWJ1dG9yIH0gZnJvbSBcIi4vQ29udHJpYnV0b3JcIjtcbmltcG9ydCB7IENvbnRyaWJ1dG9ySnNvbiB9IGZyb20gXCIuL0NvbnRyaWJ1dG9ySnNvblwiO1xuaW1wb3J0IHsgQ29udHJpYnV0b3JXaWRnZXRSZW5kZXJlciB9IGZyb20gXCIuL0NvbnRyaWJ1dG9yV2lkZ2V0UmVuZGVyZXJcIjtcblxuZXhwb3J0IGNsYXNzIENvbnRyaWJ1dG9yV2lkZ2V0IHtcbiAgICBjb25maWdKc29uOiBhbnk7XG4gICAgY29udHJpYnV0b3JzSnNvbjogQ29udHJpYnV0b3JbXTtcbiAgICByZW5kZXJlcjogQ29udHJpYnV0b3JXaWRnZXRSZW5kZXJlcjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IENvbnRyaWJ1dG9yV2lkZ2V0UmVuZGVyZXIoKTsgXG4gICAgICAgIHZhciB3aWRnZXREaXZzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImdoLWNvbnRyaWItd2lkZ2V0XCIpO1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgd2lkZ2V0RGl2cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRhcmdldERpdiA9IHdpZGdldERpdnMuaXRlbShpKTtcbiAgICAgICAgICAgIHRoaXMubG9hZERhdGEodGFyZ2V0RGl2KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWREYXRhKHRhcmdldERpdjogYW55KTogdm9pZCB7XG4gICAgICAgIHZhciBqc29uVXJsOiBzdHJpbmcgPVxuICAgICAgICAgICAgJ2h0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvJyArIHRhcmdldERpdi5kYXRhc2V0LnJlcG9zaXRvcnkgKyAnL2NvbnRyaWJ1dG9ycyc7XG4gICAgICAgIHZhciBkYXRhSGFuZGxlciA9IGZ1bmN0aW9uKHJlbmRlcmVyOiBDb250cmlidXRvcldpZGdldFJlbmRlcmVyLCBlcnJvcjogc3RyaW5nLCBkYXRhOiBDb250cmlidXRvckpzb25bXSl7XG4gICAgICAgICAgICBpZiAoZXJyb3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ291bGQgbm90IGxvYWQgZGF0YTogJyArIGVycm9yKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyKHRhcmdldERpdiwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2V0SnNvbkNhbGxiYWNrKHRoaXMucmVuZGVyZXIsIGpzb25VcmwsIGRhdGFIYW5kbGVyKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnZXRKc29uRnJvbVVybCB9IGZyb20gXCIuL0pzb25cIjtcbmltcG9ydCB7IGdldEpzb25DYWxsYmFjayB9IGZyb20gXCIuL0pzb25cIjtcbmltcG9ydCB7IENvbnRyaWJ1dG9ySnNvbiB9IGZyb20gXCIuL0NvbnRyaWJ1dG9ySnNvblwiO1xuaW1wb3J0IHsgQ29udHJpYnV0b3IgfSBmcm9tIFwiLi9Db250cmlidXRvclwiO1xuaW1wb3J0IHsgSHRtbFNlcnZpY2UgfSBmcm9tIFwiLi9IdG1sU2VydmljZVwiO1xuXG5mdW5jdGlvbiBzb3J0QnlDb250cmlidXRpb25zKHg6IENvbnRyaWJ1dG9ySnNvbiwgeTogQ29udHJpYnV0b3JKc29uKSB7XG4gIHJldHVybiAgeS5jb250cmlidXRpb25zIC0geC5jb250cmlidXRpb25zO1xufVxuXG5leHBvcnQgY2xhc3MgQ29udHJpYnV0b3JXaWRnZXRSZW5kZXJlciB7XG4gICAgY29udHJpYnV0b3JzSnNvbjogQ29udHJpYnV0b3JKc29uW107XG5cbiAgICByZW5kZXIodGFyZ2V0RGl2OiBhbnksIGNvbnRyaWJ1dG9yczogQ29udHJpYnV0b3JKc29uW10pOiB2b2lkIHtcbiAgICAgICAgdmFyIGh0bWxTZXJ2aWNlOiBIdG1sU2VydmljZTtcbiAgICAgICAgdmFyIGJsb2NrZWRVc2VycyA9IG5ldyBBcnJheShcImdpdHRlci1iYWRnZXJcIik7XG4gICAgICAgIGh0bWxTZXJ2aWNlID0gbmV3IEh0bWxTZXJ2aWNlKCk7XG4gICAgICAgIGlmICh0YXJnZXREaXYgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29udHJpYnV0b3JzLnNvcnQoc29ydEJ5Q29udHJpYnV0aW9ucyk7XG4gICAgICAgICAgICBmb3IodmFyIG49MDtuPGNvbnRyaWJ1dG9ycy5sZW5ndGg7bisrKXtcbiAgICAgICAgICAgICAgICB2YXIgY29udHJpYnV0b3I6IENvbnRyaWJ1dG9yID0gbmV3IENvbnRyaWJ1dG9yKGNvbnRyaWJ1dG9yc1tuXSlcbiAgICAgICAgICAgICAgICBpZighY29udHJpYnV0b3IuaXNPbkxpc3QoYmxvY2tlZFVzZXJzKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udHJpYnV0b3JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRyaWJ1dG9ySHRtbCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sU2VydmljZS5nZXRBbmNob3JIdG1sKGNvbnRyaWJ1dG9yLmdldFByb2ZpbGVVcmwoKSwgY29udHJpYnV0b3IuZ2V0TmFtZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udHJpYnV0b3JIdG1sICs9ICc8L2JyPic7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyaWJ1dG9yRGl2LmlubmVySFRNTCA9IGNvbnRyaWJ1dG9ySHRtbDtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RGl2LmFwcGVuZENoaWxkKGNvbnRyaWJ1dG9yRGl2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVGFyZ2V0IGRpdiBub3QgZm91bmQuJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgSHRtbFNlcnZpY2Uge1xuICAgIGdldEFuY2hvckh0bWwodXJsOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHZhciBodG1sID0gJzxhIGhyZWY9XFxcIicgKyB1cmwgKyAnXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+JztcbiAgICAgICAgaHRtbCArPSBjb250ZW50O1xuICAgICAgICBodG1sICs9ICc8L2E+JztcblxuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0SnNvbkNhbGxiYWNrKHdpZGdldDogYW55LCB1cmw6IGFueSwgY2FsbGJhY2s6IGFueSkge1xuICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YXR1cyA9IHhoci5zdGF0dXM7XG4gICAgaWYgKHN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgIGNhbGxiYWNrKHdpZGdldCwgbnVsbCwgeGhyLnJlc3BvbnNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayh3aWRnZXQsIHN0YXR1cywgeGhyLnJlc3BvbnNlKTtcbiAgICB9XG4gIH07XG4gIHhoci5zZW5kKCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SnNvbkZyb21VcmwodXJsOiBzdHJpbmcpOiBhbnkge1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSAnanNvbic7XG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhdHVzID0geGhyLnN0YXR1cztcbiAgICAgICAgaWYgKHN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0dvdCBlcnJvciAnICsgc3RhdHVzICsgJyBmb3IgVVJMICcgKyB1cmwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB4aHIuc2VuZCgpO1xufTtcbiIsImltcG9ydCB7IGdldEpzb25Gcm9tVXJsIH0gZnJvbSBcIi4vSnNvblwiO1xuaW1wb3J0IHsgQ29udHJpYnV0b3JXaWRnZXQgfSBmcm9tIFwiLi9Db250cmlidXRvcldpZGdldFwiO1xuXG5mdW5jdGlvbiBpbnN0YWxsR2l0aHViQ29udHJpYnV0b3JXaWRnZXQoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHdpZGdldDogQ29udHJpYnV0b3JXaWRnZXQgPSBuZXcgQ29udHJpYnV0b3JXaWRnZXQoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUubmFtZSArICc6ICcgKyBlLm1lc3NhZ2UpO1xuICAgIH1cbn1cblxuKDxhbnk+d2luZG93KS5pbnN0YWxsR2l0aHViQ29udHJpYnV0b3JXaWRnZXQgPSBpbnN0YWxsR2l0aHViQ29udHJpYnV0b3JXaWRnZXQ7XG4iXX0="}