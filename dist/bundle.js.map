{"version":3,"sources":["node_modules/browser-pack/_prelude.js","source/Json.ts","source/Main.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export function getJsonCallback(widget: any, url: any, callback: any) {\n  var xhr = new XMLHttpRequest();\n  xhr.open('GET', url, true);\n  xhr.responseType = 'json';\n  xhr.onload = function() {\n    var status = xhr.status;\n    if (status === 200) {\n        callback(widget, null, xhr.response);\n    } else {\n        callback(widget, status, xhr.response);\n    }\n  };\n  xhr.send();\n};\n\nexport function getJsonFromUrl(url: string): any {\n    var xhr = new XMLHttpRequest();\n\n    xhr.open('GET', url, true);\n    xhr.responseType = 'json';\n    xhr.onload = function() {\n        var status = xhr.status;\n        if (status !== 200) {\n            throw new Error('Got error ' + status + ' for URL ' + url);\n        }\n    };\n    xhr.send();\n};\n","import { getJsonFromUrl } from \"./Json\";\nimport { getJsonCallback } from \"./Json\";\n\nfunction sortByContributions(x: Contributor, y: Contributor) {\n  return  y.contributions - x.contributions;\n}\n\ninterface ContributorWidgetConfig {\n    targetDivId: string,\n    repository:string,\n}\n\ninterface Contributor {\n    contributions:number,\n    html_url: string,\n    login: string\n}\n\nclass ContributorWidget {\n    configJson: any;\n    contributorsJson: Contributor[];\n\n    constructor(config: ContributorWidgetConfig) {\n        this.configJson = config;\n        var jsonUrl: string =\n            'https://api.github.com/repos/' + this.configJson.repository + '/contributors';\n        var dataHandler = function(widget: any, error: string, data: Contributor[]){\n            if (error !== null) {\n                console.log('Could not load data: ' + error);\n            } else {\n                widget.contributorsJson = data;\n                widget.render();\n            }\n        }\n        getJsonCallback(this, jsonUrl, dataHandler);\n    }\n\n    render(): void {\n        var data = this.contributorsJson;\n        var targetDiv = document.getElementById(this.configJson.targetDivId);\n        if (targetDiv != null) {\n        data.sort(sortByContributions);\n        var blockedUsers = new Array(\"gitter-badger\");\n        for(var n=0;n<data.length;n++){\n            var contributor: Contributor = data[n];\n            if(blockedUsers.indexOf(contributor.login) == -1) {\n                var contributorDiv = document.createElement('div');\n                var contributorHtml = '<a href=\\\"' + contributor.html_url + '\\\" target=\\\"_blank\\\">';\n                contributorHtml += contributor.login;\n                contributorHtml += '</a></br>';\n                contributorDiv.innerHTML = contributorHtml;\n                targetDiv.appendChild(contributorDiv);\n            }\n        }\n    } else {\n        console.log('Target diff for contributions widget with id ' + this.configJson.targetDivId + ' not found.');\n    }\n    }\n}\n\nfunction installGithubContributionWidget(targetDiv: string, repo: string): void {\n    try {\n        var config: ContributorWidgetConfig = { \"targetDivId\": targetDiv, \"repository\": repo};\n        var widget: ContributorWidget = new ContributorWidget(config);\n        widget.render();\n    } catch (e) {\n        console.log(e.name + ': ' + e.message);\n    }\n}\n\n(<any>window).installGithubContributionWidget = installGithubContributionWidget;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzb3VyY2UvSnNvbi50cyIsInNvdXJjZS9NYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0FDQUEseUJBQWdDLEFBQVcsUUFBRSxBQUFRLEtBQUUsQUFBYTtBQUNsRSxRQUFJLEFBQUcsTUFBRyxJQUFJLEFBQWMsQUFBRSxBQUFDO0FBQy9CLEFBQUcsUUFBQyxBQUFJLEtBQUMsQUFBSyxPQUFFLEFBQUcsS0FBRSxBQUFJLEFBQUMsQUFBQztBQUMzQixBQUFHLFFBQUMsQUFBWSxlQUFHLEFBQU0sQUFBQztBQUMxQixBQUFHLFFBQUMsQUFBTSxTQUFHO0FBQ1gsWUFBSSxBQUFNLFNBQUcsQUFBRyxJQUFDLEFBQU0sQUFBQztBQUN4QixBQUFFLEFBQUMsWUFBQyxBQUFNLFdBQUssQUFBRyxBQUFDLEtBQUMsQUFBQztBQUNqQixBQUFRLHFCQUFDLEFBQU0sUUFBRSxBQUFJLE1BQUUsQUFBRyxJQUFDLEFBQVEsQUFBQyxBQUFDLEFBQ3pDO0FBQUMsQUFBQyxBQUFJLGVBQUMsQUFBQztBQUNKLEFBQVEscUJBQUMsQUFBTSxRQUFFLEFBQU0sUUFBRSxBQUFHLElBQUMsQUFBUSxBQUFDLEFBQUMsQUFDM0M7QUFBQyxBQUNIO0FBQUMsQUFBQztBQUNGLEFBQUcsUUFBQyxBQUFJLEFBQUUsQUFBQyxBQUNiO0FBQUM7QUFiRCwwQkFhQztBQUFBLEFBQUM7QUFFRix3QkFBK0IsQUFBVztBQUN0QyxRQUFJLEFBQUcsTUFBRyxJQUFJLEFBQWMsQUFBRSxBQUFDO0FBRS9CLEFBQUcsUUFBQyxBQUFJLEtBQUMsQUFBSyxPQUFFLEFBQUcsS0FBRSxBQUFJLEFBQUMsQUFBQztBQUMzQixBQUFHLFFBQUMsQUFBWSxlQUFHLEFBQU0sQUFBQztBQUMxQixBQUFHLFFBQUMsQUFBTSxTQUFHO0FBQ1QsWUFBSSxBQUFNLFNBQUcsQUFBRyxJQUFDLEFBQU0sQUFBQztBQUN4QixBQUFFLEFBQUMs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QUFhLGVBQUUsQUFBUyxXQUFFLEFBQVksY0FBRSxBQUFJLEFBQUMsQUFBQztBQUN0RixZQUFJLEFBQU0sU0FBc0IsSUFBSSxBQUFpQixrQkFBQyxBQUFNLEFBQUMsQUFBQztBQUM5RCxBQUFNLGVBQUMsQUFBTSxBQUFFLEFBQUMsQUFDcEI7QUFBQyxNQUFDLEFBQUssQUFBQyxPQUFDLEFBQUMsQUFBQyxHQUFDLEFBQUM7QUFDVCxBQUFPLGdCQUFDLEFBQUcsSUFBQyxBQUFDLEVBQUMsQUFBSSxPQUFHLEFBQUksT0FBRyxBQUFDLEVBQUMsQUFBTyxBQUFDLEFBQUMsQUFDM0M7QUFBQyxBQUNMO0FBQUM7QUFFSyxBQUFPLE9BQUMsQUFBK0Isa0NBQUcsQUFBK0IsQUFBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJleHBvcnQgZnVuY3Rpb24gZ2V0SnNvbkNhbGxiYWNrKHdpZGdldDogYW55LCB1cmw6IGFueSwgY2FsbGJhY2s6IGFueSkge1xuICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YXR1cyA9IHhoci5zdGF0dXM7XG4gICAgaWYgKHN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgIGNhbGxiYWNrKHdpZGdldCwgbnVsbCwgeGhyLnJlc3BvbnNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayh3aWRnZXQsIHN0YXR1cywgeGhyLnJlc3BvbnNlKTtcbiAgICB9XG4gIH07XG4gIHhoci5zZW5kKCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SnNvbkZyb21VcmwodXJsOiBzdHJpbmcpOiBhbnkge1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSAnanNvbic7XG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhdHVzID0geGhyLnN0YXR1cztcbiAgICAgICAgaWYgKHN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0dvdCBlcnJvciAnICsgc3RhdHVzICsgJyBmb3IgVVJMICcgKyB1cmwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB4aHIuc2VuZCgpO1xufTtcbiIsImltcG9ydCB7IGdldEpzb25Gcm9tVXJsIH0gZnJvbSBcIi4vSnNvblwiO1xuaW1wb3J0IHsgZ2V0SnNvbkNhbGxiYWNrIH0gZnJvbSBcIi4vSnNvblwiO1xuXG5mdW5jdGlvbiBzb3J0QnlDb250cmlidXRpb25zKHg6IENvbnRyaWJ1dG9yLCB5OiBDb250cmlidXRvcikge1xuICByZXR1cm4gIHkuY29udHJpYnV0aW9ucyAtIHguY29udHJpYnV0aW9ucztcbn1cblxuaW50ZXJmYWNlIENvbnRyaWJ1dG9yV2lkZ2V0Q29uZmlnIHtcbiAgICB0YXJnZXREaXZJZDogc3RyaW5nLFxuICAgIHJlcG9zaXRvcnk6c3RyaW5nLFxufVxuXG5pbnRlcmZhY2UgQ29udHJpYnV0b3Ige1xuICAgIGNvbnRyaWJ1dGlvbnM6bnVtYmVyLFxuICAgIGh0bWxfdXJsOiBzdHJpbmcsXG4gICAgbG9naW46IHN0cmluZ1xufVxuXG5jbGFzcyBDb250cmlidXRvcldpZGdldCB7XG4gICAgY29uZmlnSnNvbjogYW55O1xuICAgIGNvbnRyaWJ1dG9yc0pzb246IENvbnRyaWJ1dG9yW107XG5cbiAgICBjb25zdHJ1Y3Rvcihjb25maWc6IENvbnRyaWJ1dG9yV2lkZ2V0Q29uZmlnKSB7XG4gICAgICAgIHRoaXMuY29uZmlnSnNvbiA9IGNvbmZpZztcbiAgICAgICAgdmFyIGpzb25Vcmw6IHN0cmluZyA9XG4gICAgICAgICAgICAnaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy8nICsgdGhpcy5jb25maWdKc29uLnJlcG9zaXRvcnkgKyAnL2NvbnRyaWJ1dG9ycyc7XG4gICAgICAgIHZhciBkYXRhSGFuZGxlciA9IGZ1bmN0aW9uKHdpZGdldDogYW55LCBlcnJvcjogc3RyaW5nLCBkYXRhOiBDb250cmlidXRvcltdKXtcbiAgICAgICAgICAgIGlmIChlcnJvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb3VsZCBub3QgbG9hZCBkYXRhOiAnICsgZXJyb3IpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aWRnZXQuY29udHJpYnV0b3JzSnNvbiA9IGRhdGE7XG4gICAgICAgICAgICAgICAgd2lkZ2V0LnJlbmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdldEpzb25DYWxsYmFjayh0aGlzLCBqc29uVXJsLCBkYXRhSGFuZGxlcik7XG4gICAgfVxuXG4gICAgcmVuZGVyKCk6IHZvaWQge1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuY29udHJpYnV0b3JzSnNvbjtcbiAgICAgICAgdmFyIHRhcmdldERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY29uZmlnSnNvbi50YXJnZXREaXZJZCk7XG4gICAgICAgIGlmICh0YXJnZXREaXYgIT0gbnVsbCkge1xuICAgICAgICBkYXRhLnNvcnQoc29ydEJ5Q29udHJpYnV0aW9ucyk7XG4gICAgICAgIHZhciBibG9ja2VkVXNlcnMgPSBuZXcgQXJyYXkoXCJnaXR0ZXItYmFkZ2VyXCIpO1xuICAgICAgICBmb3IodmFyIG49MDtuPGRhdGEubGVuZ3RoO24rKyl7XG4gICAgICAgICAgICB2YXIgY29udHJpYnV0b3I6IENvbnRyaWJ1dG9yID0gZGF0YVtuXTtcbiAgICAgICAgICAgIGlmKGJsb2NrZWRVc2Vycy5pbmRleE9mKGNvbnRyaWJ1dG9yLmxvZ2luKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgIHZhciBjb250cmlidXRvckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIHZhciBjb250cmlidXRvckh0bWwgPSAnPGEgaHJlZj1cXFwiJyArIGNvbnRyaWJ1dG9yLmh0bWxfdXJsICsgJ1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPic7XG4gICAgICAgICAgICAgICAgY29udHJpYnV0b3JIdG1sICs9IGNvbnRyaWJ1dG9yLmxvZ2luO1xuICAgICAgICAgICAgICAgIGNvbnRyaWJ1dG9ySHRtbCArPSAnPC9hPjwvYnI+JztcbiAgICAgICAgICAgICAgICBjb250cmlidXRvckRpdi5pbm5lckhUTUwgPSBjb250cmlidXRvckh0bWw7XG4gICAgICAgICAgICAgICAgdGFyZ2V0RGl2LmFwcGVuZENoaWxkKGNvbnRyaWJ1dG9yRGl2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdUYXJnZXQgZGlmZiBmb3IgY29udHJpYnV0aW9ucyB3aWRnZXQgd2l0aCBpZCAnICsgdGhpcy5jb25maWdKc29uLnRhcmdldERpdklkICsgJyBub3QgZm91bmQuJyk7XG4gICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gaW5zdGFsbEdpdGh1YkNvbnRyaWJ1dGlvbldpZGdldCh0YXJnZXREaXY6IHN0cmluZywgcmVwbzogc3RyaW5nKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGNvbmZpZzogQ29udHJpYnV0b3JXaWRnZXRDb25maWcgPSB7IFwidGFyZ2V0RGl2SWRcIjogdGFyZ2V0RGl2LCBcInJlcG9zaXRvcnlcIjogcmVwb307XG4gICAgICAgIHZhciB3aWRnZXQ6IENvbnRyaWJ1dG9yV2lkZ2V0ID0gbmV3IENvbnRyaWJ1dG9yV2lkZ2V0KGNvbmZpZyk7XG4gICAgICAgIHdpZGdldC5yZW5kZXIoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUubmFtZSArICc6ICcgKyBlLm1lc3NhZ2UpO1xuICAgIH1cbn1cblxuKDxhbnk+d2luZG93KS5pbnN0YWxsR2l0aHViQ29udHJpYnV0aW9uV2lkZ2V0ID0gaW5zdGFsbEdpdGh1YkNvbnRyaWJ1dGlvbldpZGdldDtcbiJdfQ=="}